<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment 5 - Typing Game & Image Gallery</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        /* Toggle Button */
        .feature-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1001;
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
            transition: all 0.3s ease;
        }

        .feature-toggle:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }

        /* Typing Speed Game */
        .typing-game {
            display: block;
            padding: 2rem;
            min-height: 100vh;
        }

        .image-gallery {
            display: none;
            padding: 2rem;
            min-height: 100vh;
            background: #f8fafc;
        }

        .game-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .game-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .game-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .game-header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .game-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            padding: 2rem;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .stat-box {
            text-align: center;
            padding: 1rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #64748b;
            font-size: 0.9rem;
        }

        .game-content {
            padding: 2rem;
        }

        .text-display {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            font-size: 1.2rem;
            line-height: 1.6;
            min-height: 120px;
            position: relative;
        }

        .text-to-type {
            color: #64748b;
        }

        .typed-text {
            color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }

        .current-char {
            background: #3b82f6;
            color: white;
            animation: blink 1s infinite;
        }

        .incorrect-char {
            background: #ef4444;
            color: white;
        }

        @keyframes blink {

            0%,
            50% {
                opacity: 1;
            }

            51%,
            100% {
                opacity: 0.3;
            }
        }

        .typing-input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1.1rem;
            resize: none;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .typing-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .game-controls {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            justify-content: center;
        }

        .game-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .start-btn {
            background: #10b981;
            color: white;
        }

        .start-btn:hover {
            background: #059669;
            transform: translateY(-2px);
        }

        .reset-btn {
            background: #ef4444;
            color: white;
        }

        .reset-btn:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }

        .new-text-btn {
            background: #3b82f6;
            color: white;
        }

        .new-text-btn:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }

        /* Image Gallery */
        .gallery-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .gallery-header {
            text-align: center;
            margin-bottom: 3rem;
            color: #1f2937;
        }

        .gallery-header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .gallery-item {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }

        .gallery-image {
            width: 100%;
            height: 250px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.1rem;
            position: relative;
        }

        .image-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            color: white;
            padding: 1.5rem;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .image-overlay {
            transform: translateY(0);
        }

        .image-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .image-description {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }

        .lightbox-image {
            width: 600px;
            height: 400px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .lightbox-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .lightbox-nav:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .lightbox-prev {
            left: -70px;
        }

        .lightbox-next {
            right: -70px;
        }

        .lightbox-info {
            text-align: center;
            color: white;
            margin-top: 1rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .game-stats {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .game-controls {
                flex-direction: column;
            }

            .gallery-grid {
                grid-template-columns: 1fr;
            }

            .game-header h1 {
                font-size: 2rem;
            }

            .gallery-header h1 {
                font-size: 2rem;
            }

            .lightbox-image {
                width: 90vw;
                height: 60vh;
            }

            .lightbox-nav {
                position: static;
                margin: 1rem 0.5rem 0;
            }

            .lightbox-content {
                text-align: center;
            }
        }
    </style>
</head>

<body>
    <!-- Toggle Button -->
    <button class="feature-toggle" onclick="toggleFeature()">Switch to Image Gallery</button>

    <!-- Typing Speed Game -->
    <div class="typing-game" id="typingGame">
        <div class="game-container">
            <div class="game-header">
                <h1>âš¡ Typing Speed Test</h1>
                <p>Test and improve your typing speed and accuracy</p>
            </div>

            <div class="game-stats">
                <div class="stat-box">
                    <div class="stat-number" id="wpmStat">0</div>
                    <div class="stat-label">WPM</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="accuracyStat">100%</div>
                    <div class="stat-label">Accuracy</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="timeStat">60</div>
                    <div class="stat-label">Time (s)</div>
                </div>
            </div>

            <div class="game-content">
                <div class="text-display" id="textDisplay">
                    <span class="text-to-type" id="textToType">Click "Start Test" to begin your typing challenge!</span>
                </div>

                <textarea class="typing-input" id="typingInput" placeholder="Start typing here when the test begins..."
                    disabled rows="3"></textarea>

                <div class="game-controls">
                    <button class="game-btn start-btn" id="startBtn" onclick="startTest()">Start Test</button>
                    <button class="game-btn reset-btn" id="resetBtn" onclick="resetTest()">Reset</button>
                    <button class="game-btn new-text-btn" onclick="generateNewText()">New Text</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Gallery -->
    <div class="image-gallery" id="imageGallery">
        <div class="gallery-container">
            <div class="gallery-header">
                <h1>ðŸ“¸ Photo Gallery</h1>
                <p>A beautiful collection of images with lightbox functionality</p>
            </div>

            <div class="gallery-grid" id="galleryGrid">
                <!-- Gallery items will be generated by JavaScript -->
            </div>
        </div>

        <!-- Lightbox -->
        <div class="lightbox" id="lightbox">
            <div class="lightbox-content">
                <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
                <button class="lightbox-nav lightbox-prev" onclick="previousImage()">â€¹</button>
                <div class="lightbox-image" id="lightboxImage">Current Image</div>
                <button class="lightbox-nav lightbox-next" onclick="nextImage()">â€º</button>
                <div class="lightbox-info">
                    <h3 id="lightboxTitle">Image Title</h3>
                    <p id="lightboxDescription">Image description goes here</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Typing Game Variables
        let gameActive = false;
        let startTime = 0;
        let timeLimit = 60;
        let currentText = '';
        let typedCharacters = 0;
        let errors = 0;
        let timer = null;

        // Sample texts for typing test
        const sampleTexts = [
            "The quick brown fox jumps over the lazy dog. This sentence contains every letter of the alphabet and is perfect for typing practice.",
            "In the world of technology, programming has become an essential skill. Learning to code opens up countless opportunities for creativity and problem-solving.",
            "Practice makes perfect when it comes to typing. The more you type, the faster and more accurate you become. Consistent practice is the key to improvement.",
            "JavaScript is a versatile programming language that powers the modern web. It can be used for both frontend and backend development projects.",
            "The art of effective communication lies not just in what we say, but in how clearly and efficiently we can express our thoughts and ideas to others."
        ];

        // Image Gallery Data
        const galleryImages = [
            {
                title: "Mountain Landscape",
                description: "Beautiful mountain view during sunset",
                category: "Nature"
            },
            {
                title: "Ocean Waves",
                description: "Peaceful ocean waves on a summer day",
                category: "Nature"
            },
            {
                title: "City Skyline",
                description: "Modern city skyline at night",
                category: "Urban"
            },
            {
                title: "Forest Path",
                description: "Mysterious forest path in autumn",
                category: "Nature"
            },
            {
                title: "Desert Dunes",
                description: "Golden sand dunes in the Sahara",
                category: "Landscape"
            },
            {
                title: "Urban Street",
                description: "Busy street in downtown area",
                category: "Urban"
            },
            {
                title: "Lake Reflection",
                description: "Perfect mirror reflection on calm lake",
                category: "Nature"
            },
            {
                title: "Architecture",
                description: "Modern architectural design",
                category: "Building"
            },
            {
                title: "Sunset Beach",
                description: "Romantic sunset on tropical beach",
                category: "Nature"
            }
        ];

        let currentImageIndex = 0;

        // Typing Game Functions
        function generateNewText() {
            const randomIndex = Math.floor(Math.random() * sampleTexts.length);
            currentText = sampleTexts[randomIndex];
            document.getElementById('textToType').textContent = currentText;
            resetTest();
        }

        function startTest() {
            if (gameActive) return;

            gameActive = true;
            startTime = Date.now();
            typedCharacters = 0;
            errors = 0;

            document.getElementById('typingInput').disabled = false;
            document.getElementById('typingInput').focus();
            document.getElementById('startBtn').textContent = 'Test Running...';
            document.getElementById('startBtn').disabled = true;

            // Start timer
            timer = setInterval(updateTimer, 100);

            generateNewText();
        }

        function resetTest() {
            gameActive = false;
            clearInterval(timer);

            document.getElementById('typingInput').value = '';
            document.getElementById('typingInput').disabled = true;
            document.getElementById('startBtn').textContent = 'Start Test';
            document.getElementById('startBtn').disabled = false;

            document.getElementById('wpmStat').textContent = '0';
            document.getElementById('accuracyStat').textContent = '100%';
            document.getElementById('timeStat').textContent = timeLimit;

            // Reset text display
            document.getElementById('textToType').innerHTML = currentText || 'Click "Start Test" to begin your typing challenge!';
        }

        function updateTimer() {
            if (!gameActive) return;

            const elapsed = (Date.now() - startTime) / 1000;
            const remaining = Math.max(0, timeLimit - elapsed);

            document.getElementById('timeStat').textContent = Math.ceil(remaining);

            // Calculate WPM and accuracy
            const wordsTyped = typedCharacters / 5; // Standard: 5 characters = 1 word
            const wpm = Math.round((wordsTyped / elapsed) * 60) || 0;
            const accuracy = typedCharacters > 0 ? Math.round(((typedCharacters - errors) / typedCharacters) * 100) : 100;

            document.getElementById('wpmStat').textContent = wpm;
            document.getElementById('accuracyStat').textContent = accuracy + '%';

            if (remaining <= 0) {
                endTest();
            }
        }

        function endTest() {
            gameActive = false;
            clearInterval(timer);
            document.getElementById('typingInput').disabled = true;
            document.getElementById('startBtn').textContent = 'Test Complete!';

            const finalWpm = document.getElementById('wpmStat').textContent;
            const finalAccuracy = document.getElementById('accuracyStat').textContent;

            setTimeout(() => {
                alert(`Test Complete!\nWPM: ${finalWpm}\nAccuracy: ${finalAccuracy}`);
                document.getElementById('startBtn').textContent = 'Start Test';
                document.getElementById('startBtn').disabled = false;
            }, 500);
        }

        // Text highlighting functionality
        document.getElementById('typingInput').addEventListener('input', function (e) {
            if (!gameActive) return;

            const typed = e.target.value;
            typedCharacters = typed.length;

            let displayHTML = '';
            errors = 0;

            for (let i = 0; i < currentText.length; i++) {
                if (i < typed.length) {
                    if (typed[i] === currentText[i]) {
                        displayHTML += `<span class="typed-text">${currentText[i]}</span>`;
                    } else {
                        displayHTML += `<span class="incorrect-char">${currentText[i]}</span>`;
                        errors++;
                    }
                } else if (i === typed.length) {
                    displayHTML += `<span class="current-char">${currentText[i]}</span>`;
                } else {
                    displayHTML += currentText[i];
                }
            }

            document.getElementById('textToType').innerHTML = displayHTML;

            // Check if text is complete
            if (typed === currentText) {
                endTest();
            }
        });

        // Gallery Functions
        function initializeGallery() {
            const grid = document.getElementById('galleryGrid');
            grid.innerHTML = '';

            galleryImages.forEach((image, index) => {
                const item = document.createElement('div');
                item.className = 'gallery-item';
                item.onclick = () => openLightbox(index);

                item.innerHTML = `
                    <div class="gallery-image">
                        ${image.title} Image
                        <div class="image-overlay">
                            <div class="image-title">${image.title}</div>
                            <div class="image-description">${image.description}</div>
                        </div>
                    </div>
                `;

                grid.appendChild(item);
            });
        }

        function openLightbox(index) {
            currentImageIndex = index;
            const image = galleryImages[index];

            document.getElementById('lightboxImage').textContent = image.title + ' - Full Size';
            document.getElementById('lightboxTitle').textContent = image.title;
            document.getElementById('lightboxDescription').textContent = image.description;
            document.getElementById('lightbox').classList.add('active');

            // Prevent body scroll
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function previousImage() {
            currentImageIndex = (currentImageIndex - 1 + galleryImages.length) % galleryImages.length;
            openLightbox(currentImageIndex);
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % galleryImages.length;
            openLightbox(currentImageIndex);
        }

        // Keyboard navigation for lightbox
        document.addEventListener('keydown', function (e) {
            if (document.getElementById('lightbox').classList.contains('active')) {
                if (e.key === 'Escape') {
                    closeLightbox();
                } else if (e.key === 'ArrowLeft') {
                    previousImage();
                } else if (e.key === 'ArrowRight') {
                    nextImage();
                }
            }
        });

        // Close lightbox when clicking outside
        document.getElementById('lightbox').addEventListener('click', function (e) {
            if (e.target === this) {
                closeLightbox();
            }
        });

        // Toggle between features
        function toggleFeature() {
            const typingGame = document.getElementById('typingGame');
            const imageGallery = document.getElementById('imageGallery');
            const toggleBtn = document.querySelector('.feature-toggle');

            if (typingGame.style.display === 'none') {
                typingGame.style.display = 'block';
                imageGallery.style.display = 'none';
                toggleBtn.textContent = 'Switch to Image Gallery';
                resetTest(); // Reset game when switching back
            } else {
                typingGame.style.display = 'none';
                imageGallery.style.display = 'block';
                toggleBtn.textContent = 'Switch to Typing Game';
                initializeGallery(); // Initialize gallery when switching
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function () {
            generateNewText();
            initializeGallery();
        });
    </script>
</body>

</html>